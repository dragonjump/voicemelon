<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voice Melon</title>

  <link rel="stylesheet" type="text/css" href="precheck.css">

</head>


<body>
  
  <script>
    let submitted= false;
    function toggleContainer() {
      document.getElementById('passwordContainer').classList.add('hidden')
      document.getElementById('waitlistContainer').classList.remove('hidden')
    }
    function doRedirect() {
      const username = document.getElementById('username').value
      window.location = "http://voicemelon.fun/received.html?username=" + username
    }

    /**
     * Validates the waitlist form by checking if the user has entered their name and a valid email address.
     * If validation fails, an alert box is shown with an appropriate message.
     * @return {boolean} true if the form is valid, false otherwise
     */
    function validateForm() {
      const name = document.getElementById("username").value;
      const email = document.getElementById("email").value;

      if (name == "") {
        alert("Please enter your name");
        return false;
      }

      var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
      if (!emailRegex.test(email)) {
        alert("Please enter a valid email address");
        return false;
      }

      submitted= true
      return true;


    }
    </script>


  <!-- A simple cincai static html , nothing here can ciow -->
  <form id="passwordContainer" action="precheck" method="post">
    <h3> Enter password to proceed</h3>
    <small  class="clickable" onclick="toggleContainer()">Gimme Access ! âœ¨  </small>
    <input type="password" name="password" />
    <input type="submit" value="Submit" />
  </form>


  <iframe id=hidden_iframe name=hidden_iframe onload='submitted&&(doRedirect())' style=display:none></iframe>

  <div id="waitlistContainer" class="hidden waitlist">
    <h1> Join our waitlist</h1>

    <p>We're currently managing a waitlist to ensure a smooth and high-quality experience for all users. This allows us
      to gradually onboard new members and provide the best possible service. We'll send you an email update with access
      credentials once you're selected.</p>

    <!-- <h6>For General Users:</h6> -->
    <p> <br /> Join the VoiceMelon waitlist to chat with lifelike avatars, including virtual friends and family. Enjoy
      engaging conversations with both voice and image. Sign up now to be part of this innovative platform! </p>

    <h6 class="hidden">For Engineers & Developers </h6>
    <p class="hidden"> Join the VoiceMelon waitlist and access our source code for your AI projects. Unlock faster
      agentic ai development with our platform engineering solutions, cutting release times by up to 3x</p>
    <div>
      <form class="form" method=post onsubmit="return validateForm()" target=hidden_iframe
        action="https://docs.google.com/forms/d/e/1FAIpQLSe0uJ0LoxmnkvDP60E8AujzWCI1s_61Hv9110mzC4lwNA_0rw/formResponse">

        <p>
        <h2>Name
        </h2>
        <input id="username" type="text" name="entry.2130509111" value="" />
        </p>
        <p>
        <h2>Email
        </h2>
        <input id="email" type="text" name="entry.51541838" value="">
        </p>


        <input type="submit" value="Join Waitlist" />

      </form>
    </div>
  </div>

  <div id="backgroundSplashContainer" class="background-splash" style=" 
  position: fixed;
    z-index: -1;
    margin: 0 auto;
    top: 34vh;
    text-align: center; 
    transform: translateX(-50%);
    left: 50%;" class="logo-fixed">
    <img src="./templates/vite.svg" style=" max-width: 140px;  " />
    <h4> Voice Melon</h4>
  </div>
  <script>
  // onload
  document.getElementById('passwordContainer').classList.add('hidden')

  setTimeout(() => {
    document.getElementById('passwordContainer').classList.remove('hidden')

    document.getElementById('backgroundSplashContainer').classList.add('lowopacity')
  }, 1450);
</script>
</body>

</html>